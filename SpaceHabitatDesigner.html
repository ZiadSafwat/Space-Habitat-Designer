<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Habitat Designer - NASA-Style Design Tool</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="./styles.css">
    
</head>
<body>
    <header class="app-header">
        <div class="logo">
            <div class="logo-icon">
                <i class="fas fa-rocket"></i>
            </div>
            <div class="logo-text">
                <h1>Space Habitat Designer</h1>
                <p>NASA-Style Design Tool</p>
            </div>
        </div>
        <button class="mobile-menu-toggle" id="mobile-menu-toggle" style="display: none;">
            <i class="fas fa-bars"></i>
        </button>
        <div class="header-controls" id="header-controls">
            <button class="btn btn-primary" id="save-btn">
                <i class="fas fa-save"></i> Save Design
            </button>
            <button class="btn btn-secondary" id="load-saved-btn">
                <i class="fas fa-folder-open"></i> Load Saved
            </button>
            <button class="btn btn-secondary" id="import-json-btn">
                <i class="fas fa-file-import"></i> Import JSON
            </button>
            <button class="btn btn-secondary" id="export-png-btn">
                <i class="fas fa-download"></i> Export PNG
            </button>
            <button class="btn btn-secondary" id="export-json-btn">
                <i class="fas fa-file-export"></i> Export JSON
            </button>
            <button class="btn btn-secondary" id="simulation-btn">
                <i class="fas fa-play"></i> Simulation
            </button>
            <button class="btn btn-secondary" id="help-btn">
                <i class="fas fa-question-circle"></i> Help
            </button>
            <a href="Space Quiz Game.html" class="btn btn-primary" id="quiz-game-btn" style="background-color: #6f42c1;">
                <i class="fas fa-gamepad"></i> Space Quiz Game
            </a>
        </div>
    </header>

    <div id="sidebar">
        <div class="section">
            <h2 class="section-title">
                <i class="fas fa-shapes"></i> Item Library
            </h2>
            <p style="font-size: 0.9rem; margin-bottom: 1rem; color: var(--text-light);">
                Drag items to the canvas to place them
            </p>
            <div id="templates"></div>
        </div>

        <div class="section">
            <h2 class="section-title">
                <i class="fas fa-sliders-h"></i> Habitat Parameters
            </h2>
            <div class="control-group">
                <label class="control-label">Number of Astronauts</label>
                <input type="number" class="control-input" id="num-astronauts" value="4" min="1" max="10">
            </div>
            <div class="control-group">
                <label class="control-label">Mission Duration (days)</label>
                <input type="number" class="control-input" id="mission-duration" value="30" min="10" step="10">
            </div>
            <div class="control-group">
                <label class="control-label">Environment</label>
                <select class="control-select" id="environment">
                    <option value="Mars">Mars</option>
                    <option value="Moon">Moon</option>
                    <option value="Space">Deep Space</option>
                </select>
            </div>
            <div class="control-group">
                <label class="control-label">Habitat Type</label>
                <select class="control-select" id="habitat-shape">
                    <option value="capsule">Capsule Module</option>
                    <option value="modular-base">Modular Surface Base</option>
                    <option value="torus">Rotating Torus</option>
                    <option value="sphere">Spherical Module</option>
                    <option value="custom">Custom Rectangular</option>
                </select>
            </div>
            <div class="control-group">
                <label class="control-label">Habitat Dimensions (meters)</label>
                <div style="display: flex; gap: 0.5rem;">
                    <div style="flex: 1;">
                        <input type="number" class="control-input" id="habitat-length" value="10" min="1" step="0.5" placeholder="Length/Radius (L/R)">
                    </div>
                    <div style="flex: 1;">
                        <input type="number" class="control-input" id="habitat-width" value="5" min="1" step="0.5" placeholder="Width/Height (W/H)">
                    </div>
                    <div style="flex: 1;">
                        <input type="number" class="control-input" id="habitat-height" value="3" min="1" step="0.5" placeholder="Height (H)">
                    </div>
                </div>
            </div>
            <button id="clear-btn">
                <i class="fas fa-trash"></i> Clear Canvas
            </button>
        </div>

        <div class="section">
            <h2 class="section-title">
                <i class="fas fa-lightbulb"></i> Design Tips
            </h2>
            <ul style="font-size: 0.8rem; color: var(--text-light); padding-left: 1.2rem;">
                <li>Drag items to place/move them on the canvas</li>
                <li>Use <strong>mouse wheel</strong> to rotate items while dragging (90° snap)</li>
                <li>Use <strong>Ctrl/Cmd + mouse wheel</strong> to zoom around the cursor</li>
                <li>Press <strong>Delete</strong> key to remove the selected item</li>
                <li>Toggle <strong>Snap (1m)</strong> for precise placement</li>
                <li>Use <strong>Multi-level</strong> mode for complex habitats</li>
                <li>Select different NASA-style habitat types for realistic designs</li>
            </ul>
        </div>
    </div>

    <div id="habitat-container">
        <div class="canvas-controls">
            <button class="control-btn active" id="select-tool">
                <i class="fas fa-mouse-pointer"></i> Select
            </button>
            <button class="control-btn" id="move-tool">
                <i class="fas fa-arrows-alt"></i> Pan View
            </button>
            <button class="control-btn active" id="grid-toggle">
                <i class="fas fa-th"></i> Grid
            </button>
            <button class="control-btn active" id="snap-grid-toggle">
                <i class="fas fa-magnet"></i> Snap (1m)
            </button>
            <button class="control-btn" id="multi-level-toggle">
                <i class="fas fa-layer-group"></i> Multi-level
            </button>
            <div class="level-controls" id="level-controls">
                <button class="level-btn active" data-level="0">1</button>
                <button class="level-btn" data-level="1">2</button>
                <button class="level-btn" data-level="2">3</button>
            </div>
            <div class="simulation-controls" id="simulation-controls">
                <button class="control-btn" id="visibility-btn">
                    <i class="fas fa-eye"></i> Visibility
                </button>
            </div>
            <button class="control-btn" id="zoom-in">
                <i class="fas fa-search-plus"></i>
            </button>
            <button class="control-btn" id="zoom-out">
                <i class="fas fa-search-minus"></i>
            </button>
            <button class="control-btn" id="reset-view">
                <i class="fas fa-sync-alt"></i> Reset View
            </button>
            <div class="zoom-display" id="zoom-display">100%</div>
        </div>
        <canvas id="habitat"></canvas>
        <div class="level-indicator" id="level-indicator">Level 1</div>
    </div>

    <!-- Hidden file input for importing JSON -->
    <input type="file" id="import-file-input" accept=".json">

    <!-- Design Analysis Modal -->
    <div id="design-analysis-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-chart-line"></i> Design Analysis</h2>
                <button class="close-btn" id="close-analysis-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="analysis-grid">
                    <div class="analysis-card">
                        <div class="analysis-icon"><i class="fas fa-cube"></i></div>
                        <div class="analysis-value" id="modal-volume-total">0 m³</div>
                        <div class="analysis-label">Total Volume</div>
                    </div>
                    <div class="analysis-card">
                        <div class="analysis-icon"><i class="fas fa-ruler"></i></div>
                        <div class="analysis-value" id="modal-volume-required">0 m³</div>
                        <div class="analysis-label">Required Volume</div>
                    </div>
                    <div class="analysis-card">
                        <div class="analysis-icon"><i class="fas fa-chart-pie"></i></div>
                        <div class="analysis-value" id="modal-area-usage">0%</div>
                        <div class="analysis-label">Area Usage</div>
                    </div>
                    <div class="analysis-card">
                        <div class="analysis-icon"><i class="fas fa-bed"></i></div>
                        <div class="analysis-value" id="modal-beds-available">0/0</div>
                        <div class="analysis-label">Beds Available</div>
                    </div>
                    <div class="analysis-card">
                        <div class="analysis-icon"><i class="fas fa-shield-alt"></i></div>
                        <div class="analysis-value" id="modal-structure-efficiency">0%</div>
                        <div class="analysis-label">Structural Integrity</div>
                    </div>
                </div>
                <div class="analysis-summary" id="analysis-summary">
                    <h3>Design Summary</h3>
                    <p>Your habitat design analysis will appear here. Click 'Run Analysis' to evaluate your design.</p>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="export-pdf-btn">
                    <i class="fas fa-file-pdf"></i> Export as PDF
                </button>
                <button class="btn btn-primary" id="close-analysis-btn">
                    <i class="fas fa-check"></i> Close
                </button>
            </div>
        </div>
    </div>

    <div class="tooltip" id="tooltip"></div>

    <!-- HTML to PDF Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <script src="./script.js"></script>

</body>
</html>